<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
  <title>RSA Algorithm</title>
  <link rel="stylesheet" href="./style.css">

</head>
<body>
<!-- partial:index.partial.html -->

<canvas id="locoalien"></canvas>
<script type="text/javascript">
	</script>

</body>
</html>
<!-- partial -->
  <script  src="./script.js"></script>


  <!--The Additional code-->
  <!-- partial:index.partial.html -->
<div class="login-box">
  <h2>RSA (Rivest Shamir Adleman)</h2>
  <form>
    <div class="user-box">
      <input id="enteredText" type="text" name="" required="" >
      <label>Write The Number To Encypt/Decrypt</label>
    </div>
    <div id="result">
      <label>Result: 
        <p id="outpot"></p>
      </label>
    </div>
    <a href="#" onclick="encrypt()">
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      Encrypt
       <span></span>
       
    </a> 

    <a href="#" onclick="decrypt()">
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      Decrypt
    </a>
  </form>



</div>
<!--alert-->

 

<div class="mess" id="invalid">
  <i > - Sorry!, Invalid Input Please Enter Integer Numbers Only  -  </i>
  <a id="period">&times;</a>
</div>

<div class="mess2" id="invalid2">
  <i > - Sorry!, Number Entered Out Of The Range  -  </i>
  <a id="period2">&times;</a>
</div>


<div class="pull"> 
  <div class="pulldown_menu" >
    <div class="names"> 
    <a>Majd Alsayari </a>
  <br> 
    <a>Lena Alkhodhairi </a>
    <br> 
    <span>Leena Alsayari </span>
    <br> 
    <span>Aliyah Alabdulkarim</span>
    <br> 
    <span>Nuha Alhumaidani </span>
    <br> 
    <span>Raghad Alghannami </span>
    <br> 
    <span>------------------ </span>
    <br> 
    <span>Dr.Sahar bayoumi </span><br> 
    <span>Section: 72066 </span><br> 
    </div>
  </div>
  <div class="pulldown">
  </div>
</div>
<!-- partial -->
  <script src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script><script  src="./script.js"></script>


<script>
  var p = 5;
  var q = 7;
  var n = p*q;
  var phi = (p-1)*(q-1);
  var e = 7;
  var d = 7;
  
  function encrypt(){
         //public key is (e,n)
         var EnterdPlainText = document.getElementById("enteredText").value;
         var numbers = /^-?[0-9]+$/;

      if(!EnterdPlainText.match(numbers)){
        setTimeout(inputError, 0);
          return;
         }
         if (EnterdPlainText < 0 || EnterdPlainText >= n) {
          setTimeout(largeNumError, 0);
    return;
  }

         var cipherText = EnterdPlainText ** e % n ;
         document.getElementById("outpot").innerHTML = cipherText ;
  }
  
  function decrypt(){
        //private key is (d,n)
        var EnterdEncryptedText = document.getElementById("enteredText").value;

        var numbers = /^-?[0-9]+$/;
      if(!EnterdEncryptedText.match(numbers)){
        setTimeout(inputError, 0);
          return;
         }

      if (EnterdEncryptedText < 0 || EnterdEncryptedText >= n) {
        setTimeout(largeNumError, 0);
    return;
  }

        var plainText = EnterdEncryptedText ** d % n ;
        document.getElementById("outpot").innerHTML = plainText; 
  }
  
  const invalid = document.getElementById("invalid") ; 
  const period = document.getElementById("period") ; 

  function inputError(){
    invalid.style.display = 'block' ; 
    period.style.opacity = '1' ; 
    document.getElementById("outpot").innerHTML = "" ;
    setTimeout(stopInputError, 3000);
  }

  function stopInputError(){
    invalid.style.display = 'none' ; 
    period.style.opacity = '0' ; 
  }

 function largeNumError(){
    invalid2.style.display = 'block' ; 
    period2.style.opacity = '1' ; 
    document.getElementById("outpot").innerHTML = "" ;
    setTimeout(stopLargeNumError, 3000);
  }

  function stopLargeNumError(){
    invalid2.style.display = 'none' ; 
    period2.style.opacity = '0' ; 
  }

  </script>


<!--ALERT-->



</body>
</html>


